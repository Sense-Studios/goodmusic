{"version":3,"file":"phonegap/www/app/app.src.js","sources":["src/app/app.coffee","src/app/artist/artist.coffee","src/app/artist/bio.coffee","src/app/artist/book.coffee","src/app/artist/music.coffee","src/app/artist/rider.coffee","src/app/artist/videos.coffee","src/app/browser/browser.coffee","src/app/download.coffee","src/app/footer/footer.coffee","src/app/info/info.coffee","src/app/list/list.coffee","src/app/menu/menu.coffee","src/app/pushwoosh.js","src/app/size.coffee"],"names":[],"mappings":"AAAA,CAAQ,CAAe,GAAvB,EAAO,CAAgB,SAAvB,CAAuB;CAwBE,CACvB,YADuB;EAEvB,EAFuB,GAEvB;CAFuB,CAGvB,GAHuB,GAGvB;CAEF,CA7BA;EA8BqB,CAAjB,MACA,IAAD,EAFK,EAEL,CAFK;CAIJ;AAAI,CAAJ,KAAuB,CAAZ,CAAP;CAAmC,gBAAiB;KAAxD;IAEA,YAAgB,UAAhB;CAFA,CAMiB,CADjB,eACE;CANF,EAQO,CAAP,EAAa,CAAN;AAC0C,CAAjD,EAAgD,CAAhD,CAAwF,CAA/E,CAAN,CAAe,IAAf;CACD,CAA8B,IAA9B,MAAY;CAAZ,EACO,CAAP,CADA,CACA;KAXF;GAYkB,CAAlB,GAAe,KAAf;CACA;CACE;KAdF;GAkBa,CAAb,CAA6B,EAA7B,KAAa,CAlBb;GAmBe,CAAf,CAA+B,IAA/B,GAAe,SAnBf;IAoBA;CAAY,CAAS,IAAR;CAAQ,CAAa,KAAb,CAAC;OAAV;CApBZ,KAoBA;CApBA,EAqBqD,CAArD,EAAsC,CAAR,CAAR,GAAgB,EAAzB;CArBb,EAsB6D,CAA7D,EAAsC,CAAR,CAAR,KAAT,MAAyB;CAGnC,CAAa,GADhB,SACE;CAAc,CACF,EADE,EACZ;CADY,CAEP,CAAL,UAFY;EAIV,GADF;CACE,CACE,IADF;CACE,CAAc,CAAc,IAA5B,KAAc;CAAd,CACY,QAAZ;UAFF;EAIE,MADF;CACE,CAAU,MAAV;UAJF;EAME,MADF;CACE,CAAa,QAAb;EACY,QAAZ,EADA;SANF;OAJU;CAad,CAAsB,GAdxB;CAcwB,CAChB,CAAJ;CADoB,CAEd,EAAN;CAAM,CAAO,GAAP;QAFc;EAIlB,IADF;CACE,CAAU,MAAV;EAAwB,CAAO,GAArB,GAAsB,CAAD,CAApB,CAAD;CACR;AAAO,CAAP,GAAG,MAAc,EAAjB;CACG,GAAD;MADF;CAGG,CAAW,EAAZ,GAA8B,CAA9B,EAAsB,WAAtB;aAJ2B;CAArB,UAAqB;SAA/B;QAJkB;EAUP,IAAb,oBAVoB;EAWR,IAAZ,OAXoB;CAatB,CAAmB,GA3BrB;CA2BqB,CACb,CAAJ,KADiB;EAEX,EAAN;CAAM,CAAO,GAAP;QAFW;EAGL,IAAZ,UAHiB;EAIH,CAAc,GAA5B,CAJiB,IAIjB,CAAc;CAEhB,CAAmB,GAjCrB;CAiCqB,CACb,CAAJ;CADiB,CAEX,EAAN;CAAM,CAAO,GAAP;QAFW;EAGL,IAAZ;CAHiB,CAIH,CAAc,GAA5B,CAJiB,IAIjB,CAAc;CAEhB,CAAwB,GAvC1B;CAuC0B,CAClB,CAAJ,OADsB;CAGxB,CAA0B,GA1C5B;CA0C4B,CACpB,CAAJ,OADwB;CAG1B,CAAuB,GA7CzB;CA6CyB,CACjB,CAAJ,IADqB;CAGvB,CAAqB,GAhDvB;CAgDuB,CACf,CAAJ,UADmB;EAEb,EAAN;CAAM,CAAO,GAAP;QAFa;EAGP,IAAZ,MAHmB;EAIL,CAAkB,GAAhC,CAJmB,IAInB,CAAc;CAEhB,CAAwB,GAtD1B;CAsD0B,CAClB,CAAJ,SADsB;CAGxB,CAA0B,GAzD5B;CAyD4B,CACpB,CAAJ,KADwB;CAG1B,CAA2B,GA5D7B;CA4D6B,CACrB,CAAJ,MADyB;CAG3B,CAAyB,GA/D3B;CA+D2B,CACnB,CAAJ,IADuB;CAGzB,CAA6B,GAlE/B;CAkE+B,CACvB,CAAJ,QAD2B;CAG7B,CAA0B,GArE5B;CAqE4B,CACpB,CAAJ,MADwB;CA/F7B,KA0BC;CA5BI,EAEL;CAmGH,CAlIA;EAmIe,CAAb,CACA,EAFG,CAEH,CAFG,GAEH,CAFG;CAKD;OAAO;CAAP,EAEoB,CAApB,EAAM,IAAN;CAFA,EAKa,CAAb,KAAa,CAAb;CACE,MAAO,WAAP;GACqB,GAArB,EAAqB,EAAX;CADV,EAEkB,CAAlB,IAAkB,EAAR;CACV,GAAuB,CAAwB,CAA/C,CAAuB,EAAvB,CAAiC;CAAtB,KAAX,IAAU,KAAV;OAJW;CALb,IAKa;CALb,GAWA;CAXA,EAamB,CAAnB,EAbA,IAaU;CAbV,CAcoC,CAApC,EAAoC,IAAC,CAA3B,SAAV;CACE;IAAmB,EAAnB,CAAO;CACP,CAAuC,EAAF,CAA0B,CAA/D;UAAU;OADV;CAEA,CAAkB,EAAF,CAAW,CAA3B;;OAFA;EAGmC,CAAxB,CAAI,EAAf,CAAW,CAAX;CAHA,CAIW,CAAF,CAAO,EAAhB,CAAS;CACT;CANF,IAAoC;CAdpC,EAsBkB,CAAlB,EAAkB,IAAR;CAtBV,EAwBO,CAAP,KAAO;CAAe,EAAC,OAAb;CAAgB;CAAJ,CAA4C,EAAxD,GAAa;CAxBvB,IAwBO;CACP,MAAqB,GAAR;CAAsB,GAAI,EAAJ;MAAnC;CAAwD,CAAY,EAAZ,GAA8B,CAA9B,EAAsB;KAzB9E;CA4BA,EAAG,CAAH,EAAS;CACP,EAA8C,GAA9C,GAA8C,cAA9C;CACE;CADF,MAA8C;CAA9C,CAEA,CAA6C,GAA7C,GAA6C,cAA7C;CACE;CACA;CAFF,MAA6C;CAF7C,CAMA,CAA+B,GAA/B,GAA+B,EAA/B;KAnCF;CAsCA,SAAa;CACX,EAAgD,GAAhD,GAAiD,CAAjD;CACE,CAAK,CAA8B,CAAhC,EAAgC,EAAnC,IAAG,CAAgB;CACjB,CAAyB,CAAzB;SAF4C;CAAhD,MAAgD;CAAhD,CAIA,CAAqC,GAArC,GAAqC,CAArC;CACE,CAAyB,CAAzB;CADF,MAAqC;CAJrC,CAOA,CAAqC,GAArC,GAAqC,CAArC;CACE,CAAyB,CAAzB;CADF,MAAqC;KA9CvC;GAkDQ,CAAR,EAAQ;CACR,EAAuB,GAAvB,GAAuB,EAAvB;CACE;;CACA,EAAuB,CAApB,CAAK,CAAR,GAAG;CACD;MADF;CAGE;OALmB;CAAvB,IAAuB;CAxDtB,EAEH;CApIF;A,CCAA,CAAQ,CACiB,GADzB,EAAO,GAAP;EAEW,CAAT,CAEA,EAHuB,GAGtB,CAHsB;CAKrB;UAAU;CAAV,EACgB,CAAhB,EAAM,EAAU,EAAS,EAAuB;CADhD,EAEA,GAAM,MAAmB;CAFzB,EAIa,CAAb,IAAa,EAAb;CAJA,EAKmB,CAAnB,EAAM,GAAN;CACE;;GACG,CAAH;CADA,CAEqC,IAArC,CAAO,EAA+B;CACpC,EAAM,CAAH,CAAc,CAAjB;CACM,EAAD,CAAH;SAFiC;CAArC,MAAqC;CAGrC,YAAO;CAXT,IAKmB;CALnB,EAawB,CAAxB,EAAM,GAAmB,KAAzB;CACE;GAAc,GAAd;CACA;;;GAA4B,CAA5B,CAAsB,EAAtB,IAAW;CAAX,MADA;CAEA,GAAG,EAAH,CAAG;CACD,EAAc,CAAkB,EAAM,EAAtC,OAA2B;OAH7B;CAIO,EAAqB,CAA5B,EAAM,EAAgB,CAAM,IAA5B;CACa,SAAX;CAAW,CACK,EADL,EACW,IAAlB;CADO,CAED,EAAN,GAFO,GAEP;CAFO,CAGM,QAAb;CAHO,CAIA,GAAP,cAJO;EAKE,KAAT,wBALO;EAME,KAAT,CAAS,EAAT;CANO,CAQD,EAAN,CARO,KAQP;CATsB,SAC1B;CADF,MAA4B;CAlB9B,IAawB;CAbxB,EAgC4B,CAA5B,EAAM,EAAgB,CAAM;CAC1B;GACE,GADF;CACE,CACc,EADd,EACoB,EAAlB;CADF,CAEQ,EAAN,EAFF,EAEE;CAFF,EAGE,EAA2B,CAH7B,EAGE;CAHF,CAIe,GAAuB,CAAvB,EAAb;CAJF,CAKQ,EAAN,EAAY,CAAN,CAAN;CALF,CAMS,GAAP,UANF;EAOW,KAAT,oBAPF;CADF;AAUO,CAAP,GAAG,EAAH;CACS,CAAP,IAAM,OAAN;OAZwB;CAA5B,IAA4B;CAhC5B,EA+CgB,CAAhB,EAAM,EA/CN;GAiDyB,CAAzB,EACE,CADuB,EAGd,CAHD,CAAV;CAGmB,IAAQ,QAAV;CAHQ,IAGf,CACO,CAJQ;CAjDzB,EAwDkB,CAAlB,EAAM,EAAN;CAxDA,EAyDG;CAGD;kBAAM,GAAoB;CAA1B,EACO,CAAP,CADA,CACA;CADA,EAEc,GAAd,YAAc;CAFd,EAGO,CAAP,IAAO;CAHP,EAIO,CAAP,CAAc,CAAd;CAJA,EAKA;CALA,EAMU,CANV,EAMA,EAAU;CANV,EAQe,EAAf,IAAe;CACF,CAAO,CAAlB,CAAkB,EAAmC,GAA5C,aAAS;CATpB,MAQe;CARf,EAWkB,GAAlB,GAAkB;CAChB;GAAY,KAAZ,+BAAY;CAAZ,CACqB,EAArB,EAAM,EAAN;CAFgB,cAGhB;CAdF,MAWkB;CAKX,EAAQ,EAAf,CAAM,GAAS,IAAf;CACE;GAAW,IAAX,+BAAW;CAAX,CACoB,EAApB,EAAM,CAAN;CAFa,cAGb;CAtBD,MAmBc;CAnBd;CAzDH,EAkFc,CAAd,EAAM,CAAQ,EAAC;CACb;AAAO,CAAP,GAAG,EAAH;CACE,EAA2B,EAA3B,CAAM,CAAU,CAAhB;EACA,CAAuB,GAAjB,CAAN,MAAW;AACD,CAFV,EAES,GAAT;CACa,EAAP,GAJR;AAKY,CAAV,EAAS,GAAT;MALF;AAOY,CAAV,EAAS,GAAT;OAPF;EAQqB,CAAZ,GAAT;CATY,YAUZ;CA5FF,IAkFc;CAlFd,CA8FmB,CAAH,CAAhB,EAAM,CAAU,EAAC;AACgB,CAA/B,EAA2B,GAA3B,CAAgB;CAAhB,KACA,CAAS,QAAT;CADA,KAEA,CAAS,OAAT;CAFA,KAGA;CACC,YAAD;CAnGF,IA8FgB;CAOf,CAAyD,CAAnD,CAAP,CAAO,EAAmD,EAAC,EAA3D,2BAA6C;CAC3C;GAAa,GAAb,OAAa;CAAb,EAC2B,EAA0B,CAArD,CAAgB,EADhB;CADwD,YAGxD;CAHF,IAA0D;CA1GrC,EAGvB;CA6GF,CAjHA;GAkHE;WACE;EAAM,EAAN,CAAM,CAAN,GAAO;CACL;GAAgB,KAAhB,UAAgB;CAAhB,CACqB,CAArB,GAA8B,EAA9B,KAAqB;CAErB;AAHA;GAIO,CAAP,KAAO;CACL;IAAM,MAAN;CACA,EAAM,CAAH,MAAH,QAAkB;CAChB,EAAG,CAAH;CAAiC,CAAK,CAAJ;CAAD,CAAiB,IAAjB,GAAO;CAAP,CAAqC,UAAb;CAAzD;CACI,CAAa,CAAd,CAAc,IAAjB,UAAiB,CAAjB;WAJG;CAJP,QAIO;CAKI,CAAK,EAAhB;CAVF,MAAM;CADR;CADqB,EACrB;CAaF,CA/HA;GAgIE;CACE;MAAS;CAAU,EAAO;KAA1B;GACQ,CAAR,EAAQ;CADR,EAES,CAAT;CAFA,EAGQ,CAAR;CAHA,EAIQ,CAAR;CAJA,EAMW,CAAX,KAAW;CACT;GAAS,EAAK,CAAd,GAAS;AACT;;CAEE,EAAQ,EAAR,CAAQ,EAAR;GACQ,EAAR,CAAQ,EAAR;CADA,EAEA,EAAM,GAAN;CACA,EAAY,CAAT,IAAH;CACE,CAAgB,CAAhB;AAA6B,CAAT,CAAQ,IAAP;CAArB;CACA;SAPJ;OAFS;CANX,IAMW;CANX,CAiBA,CAAK,CAAL,IAjBA;GAkBa,CAAb,EAAmB,CAAnB;CAlBA,CAmBA,CAAgB,CAAhB,KAAgB;CACd;CACmB,CAAS,CAApB,EAAR,EAAQ,MAAR;CAFF,IAAgB;WAIhB;EAAK,EAAL,CAAK,CAAL,GAAM;CACE,GAAN,CAAK,UAAL;CADF,MAAK;CAxBP;CADsB,EACtB;CAhIF;A,CCAA,CAAQ,CACoB,GAD5B,EAAO,GAAP;EAEW,CAAT,GACA,EAF0B,CAEzB,EAAD,EAF0B;CAGjB,EAAqB,CAA5B,EAAM,EAAgB,CAAM,EAA5B;CAIE;GAAe,EAAf;CAAe,CACD,IAAM,EAAlB;CADa,CAEP,EAAN,CAFa,GAEb;CAFa,CAGA,GAAuB,CAAvB,EAAb;CAHa,CAIN,GAAP,MAJa;EAKP,EAAN,EAAY,CAAN,CAAN;CALa,EAMb,EAA2B,CANd,EAMb;CANa,CAOJ,KAAT,yBAPa;CAAf;CAcO,CAAQ,GAAf,CAAM,CAAgB,MAAtB;CAA8C,EAC5C,GAA2B,EAA3B;CAnBwB,OAkBX;CAlBjB,IAA4B;CAHJ,EAE1B;CAHF;A,CCAA,CAAQ,CACqB,GAD7B,EAAO,GAAP;EAGE,CADA,GACA,EAF2B,CAE1B;CACC,CAA4B,CAAR,CAApB,EAAM,CAAc,EAAC,CAArB;CACE;IAAO,EAAP;CAAqB,cAAO;OAA5B;IACqB,CAArB;CACA,GAAG,CAAH;AACE,KAAa,CAAb;GACQ,EAAR;MAFF;CAIE,EAAQ,EAAR,EAAe,CAAf;OANF;CAOc,EAAP,CAAN,EAAY,CAAZ;CARH,IAAoB;CAUb,EAAQ,EAAf,CAAM,KAAN;CAAe,CAAQ,EAAR,EAAC;CAXlB;CAF2B,EAE3B;CAcF,CAjBA,CAmBE,KAFiC,CAEhC,CAnBH;A,CCAA,CAAQ,CACsB,CAE5B,EAHF,EAAO,CACuB,CAE3B,CAHH;A,CCAA,CAAQ,CACsB,GAD9B,EAAO,GAAP;EAGE,CADA,GACA,EAF4B,CAE3B;CAEQ,EAAqB,CAA5B,EAAM,EAAgB,CAAM,EAA5B;CACE;GAAmB,GAAnB;CAAmB,CACL,IAAM,EAAlB;CADiB,CAEX,EAAN,GAFiB,CAEjB;CAFiB,CAGJ,GAA2B,CAA3B,EAAb;CAHiB,CAIV,GAAP;CAJiB,CAKH,EALG,IAKjB;CALiB,CAMX,EAAN,EAAY,CAAN,CAAN;CANiB,EAOjB,EAA+B,CAPd,EAOjB;CAPiB,CAQR,KAAT,sBARiB;CAAnB;CAWO,CAAY,IAAb,CAAoB,EAA1B;CAAsD,EAClD,GAA+B,EAA/B;CAbsB,OAYP;CAZrB,IAA4B;CAJF,EAE5B;CAHF;A,CCAA,CAAQ,CACsB,GAD9B,EAAO,GAAP;EAGE,CADA,GACA,EAF4B,CAE3B;CAEQ,EAAS,GAAV,KAAN;CAJ0B,EAE5B;CAHF;A,CCAA,CAAQ,CACkB,GAD1B,EAAO,GAAP;EAEW,CAAT,CACA,EAFwB,CAExB,CAFwB;CAItB;GAAmB,CAAnB,EAAM,GAAN;CAAiC,SAAD,GAAV;CAAtB,IAAmB;CAAnB,CAE6C,CAAnC,CAAV,IAAU,EAAiB;CAF3B,EAGgB,CAAhB,EAAM,CAHN;CAIQ,EAAK,CAAb,GAAO,EAAM,EAAb;CACS,EAAa,GAAd,IAAN;CADF,IAAa;CAGb;;;;;;;;;;AATF;CAFwB,EAExB;CAHF;A,CCAA,CAAQ,CAAkB,IAA1B,CAAO,EAAmB,CAA1B;GAEE;EACO,CAAL,MAAC,EAAD;CACE;;GADe,KAAZ;OACH;;GADkC,KAAd;OACpB;GAAU,GAAV,mCAAU;CAAV,CACmB,CAAnB,IAAO;CADP,EAGO,CAAP,KAAO;CAAG;CAHV,MAGO;CAHP,EAIS,GAAT,GAAS;CAAW,KAAR,CAAO,QAAP;CAJZ,MAIS;CAJT,CAMgB,EAAhB;CACW,CAAO,IAAlB;CATJ,IACE;CAFgB,EAClB;CAYF,CAdA;EAeU,CAAR,EACA,EAFoB;CAIlB;EAAiC,CAAtB,CAAX,QAAW;CAAsB,CAAU,GAAV,CAAC;CAAlC,KAAW;CAAX,EACQ,CAAR,GAAe;CAAiB,CAAM,EAAL;CADjC;GAGO,CAAP,CAAO,IAAC;CACN,EAAa,CAAb,CAAK,CAAL;EACoB,CAApB,IAAO;CAFF,YAGL;CANF,IAGO;CAHP,EAQW,CAAX;CAAW,CACH,EAAN;CADS,CAEH,EAAN,CAFS,CAET;CAFS,CAGG,IAAZ;CAHS,CAIH,EAAN;CAJS,CAKI,IAAb;CALS,CAMC,IAAV,CAAU,CAAV;CANS,CAOF,GAAP;CAPS,CAQA,IAAT;CARS,CASA,IAAT,GAAS;CATA,CAUC,IAAV,OAAU;CAlBZ;CAqBA,EAAoB,MAAC,CAAd;CACL;GAAS,GAAT,EAAS;CAAT,EAEW,GAAX,CAAW,CAAX,CAAY;CAEV;IAAG,IAAH;CACY,CAER,EAFF,GACS,EADA,GAAa,KAAtB;MADF;CAWE,CAAgC,CAArB,IAAc,CAAzB;GACY,GAAZ,CAAiC,CAAxB,EAAT;CACa,WAAb;CAAa,CAAa,IAAb,KAAC;CAAD,CAA2B,IAAP,EAApB,IAAoB;CAbnC,WAaE;SAfO;CAFX,MAEW;CAFX,EAmBe,GAAf,EAAe,CAAC,GAAhB;CACE;IAAG,CAA0B,CAA7B,CAAoC,CAApC,GAAG;CACD,GAAG,MAAH;CAA0B,MAAO,CAAP;WAA1B;CACA,GAAG,CAAgB,EAAT,CAAiB,EAA3B,CAAG,UAAH;CACE,KAAM,CAAc,KAApB;EAC6B,CAA1B,GAAH,GAA6B,GAA7B;CACE,EAAe,CAAf,GAAO,OAAP;CACS,MAAO,CAAhB;CAFF,YAA6B;WAH/B;CAMA;SAPF;IASA;CATA,CAWkE,GAAzB,CAXzC,CAWA;CAXA,CAYkE,GAAzB,CAZzC,CAYA;AAEO,CAAP,GAAG,GAAH;CAAoB,EAAU,IAAV;SAdpB;AAeO,CAAP,GAAG,GAAH;CAAoB,EAAU,IAAV;SAfpB;CAiBM,CAA8B,EAApC,CAAK,UAAL;CAAoC,CAClC,EADkC,CACnB,KAAf;CADkC,CAExB,EAAkB,CAAb,CAAf,EAAU,EAAV;CAFkC,CAGxB,EAAV,IAAkB,EAAlB;CAHkC,CAIxB,KAAV;CAJkC,CAKxB,KAAV;CALkC,CAMpB,KAAO,GAArB;CAEF,EAAM,CARN,KAQO,CARP;AAQsB,CAAP,EAAU,CAAP,CAAH;CAAkC,KAAD,CAAN;MAA3B;CAAwD,EAChE,GAD+D,CACtE,EAAO,UADyD;CAC/C,KAAD,eAAN;CADsD,YACzD;WADD;CARN,QAQM;CA7CR,MAmBe;CAnBf,CAgDU,IAAV,EAAU;CAGV,GAAG,EAAH,CAAU,CAAV;CACE;;;;;CACA,cAAO;OArDT;MAwDA,CAAgB,CAAhB;CACA,YAAO;CA1DT,IAAoB;CAzBF,EAEpB;CAmFF,CAnGA;EAqGE,CADA,MACC,CAAD,EAFsB;WAGpB;EAAM,EAAN,CAAM,CAAN,GAAO;CACL,CAA8B,EAAb,CAAZ,CAAL,CAA8B,CAA9B,CAA+B,CAA/B;CACE,EAAG,EAAiB,EAAV,GAAV;CACE;CAAa,CACH,CADG,GACX,CAAe,OAAf;CADW,CAEF,MAAT;CAHJ,aACE;WAF0B;CAA9B,QAA8B;CAO9B,EAA2B,CAA3B,KAA2B,MAA3B;CACE;GAAU,CAAgB,CAAX,EAAf;CACA,EAAoB,CAAjB,GAAwB,GAA3B,OAAG;CAA+C,MAAX;WAFd;CAA3B,QAA2B;CAR7B,MAAM;CADR;CAFsB,EAEtB;CArGF;A,CCAA,CAAQ,CACiB,GADzB,EAAO,GAAP;EAEW,CAAT,CACA,EAFuB,GAEtB,CAFsB;CAGrB;GAAuB,CAAvB,MAAU;CAAV,EACc,CAAd,EAAM,GAAQ;CACH,GAAT,IAAQ,KAAR;CAFF,IACc;CADd,EAIc,CAAd,EAAM,GAAQ;CACH,GAAT,IAAQ,KAAR;CALF,IAIc;CAJd,EAOmB,CAAnB,EAAM,GAAN;CAA+B,OAAD,CAAR;CAPtB,IAOmB;CAPnB,EAQc,CAAd,EAAM,GAAQ;CAAY,GAAT,IAAQ,KAAR;CARjB,IAQc;CARd,EASe,CAAf,EAAM,GAAS;CAAY,IAAT,GAAQ,KAAR;CATlB,IASe;CATf,EAWc,CAAd,EAAM;CAXN,EAaY,CAAZ;CAAY,CAAC,QAAD;CAbZ;GAckB,CAAlB;CAdA,EAgBW,CAAX,EAAM;CAhBN,CAiBkB,CAAlB,GAAM,GAAa;CACjB;GAAW,GAAX;CACA,EAAiB,CAAjB,CAAqC,CAA/B,GAAN;CAFF,IAAkB;CAjBlB,EAqBc,CAAd,EAAM,GAAQ;CACL,CAAP,IAAM,GAAN;CAtBF,IAqBc;CArBd,EAwBe,CAAf,EAAM,GAAS;CACb,OAAQ;CACG,EAAY,MAAvB,CAAU,GAAV;CA1BF,IAwBe;CAIR,CAAmB,CAA1B,EAA0B,CAApB,GAAqB,EAA3B;CACE;IAAG,CAAU,CAAb;CACE,EAAY,GAAM,CAAlB;GACkB,GAAM,EAAxB;CADA,EAEuB,CAFvB,IAEA,EAAU;CACH,GAAP,CAA8C,CAAxC,SAAN;OALsB;CAA1B,IAA0B;CA/BL,EAEvB;CAHF;A,CCAA,CAAQ,CACe,GADvB,EAAO,GAAP;EAEW,CAAT,GACA,EAFqB,CAEpB,CAFoB;CAGnB,EAAkB,CAAlB,EAAM,EAAN;GAEc,CAAd,EAAM,CAAQ,EAAC;CACb,EAA2B,EAA3B,EAAgB;CAAhB,CACA,CAAqB,GAArB,KAAW;CADX,EAES,GAAT;CAHY,YAIZ;CANF,IAEc;CAFd,CAQmB,CAAH,CAAhB,EAAM,CAAU,EAAC;AACgB,CAA/B,EAA2B,GAA3B,CAAgB;CAAhB,KACA,CAAS,QAAT;CADA,KAEA,CAAS,OAAT;CAFA,KAGA;CACC,YAAD;CAbF,IAQgB;CARhB,EAee,CAAf,EAAM;CAAS,CAAQ,IAAP,CAAD;CAff;CAkBC,CAAuC,CAAjC,CAAP,CAAO,EAAiC,EAAC,EAAzC,SAA2B;CACzB;GAAa,GAAb,KAAa;CAAb,EAC2B,EAA0B,CAArD,CAAgB,EADhB;AAEO,CAAP,GAAG,EAAH,CAAuB;CAAqB,GAAP,EAAM,CAAN;OAHC;CAAxC,IAAwC;CArBrB,EAErB;CAHF;A,CCAA,CAAQ,CACqB,GAD7B,EAAO,GAAP;EAGE,CADA,GACA,EAF2B,CAE1B;CACQ,EAAc,GAAf,GAAe,EAArB;AACkB,CAAhB,EAAe,EAAf;AACc,CADd,EACA;CADA,EAEe,EAAf;CACO,EAAgB,GAAjB,OAAN;CALJ,IACuB;CAHI,EAE3B;CAOF,CAVA;GAWE;CAEE;EAAU,EAAV,KAAW;CACT;EAAG,CAAK,CAAL,EAAH;CAAgB,CAAU,MAAV;OAAhB;CACA,CAAG,CAAK,CAAL,EAAH;CAAgB,CAAU,MAAV;OADhB;CADQ,CAGR,EAAM,SAAN;CAHF,IAAU;CAAV,EAKc,CAAd,CAAc,IAAC,EAAf;CACE;EAAM,CAAN;CACI,YAAJ;CAPF,IAKc;EAIN,CAAR,MAAC,EAAD;CACE;;GADc,KAAR;OACN;;AAD2B,CAAD,OAAR;OAClB;;AADqC,CAAD,OAAN;OAC9B;AAAI,CAAJ,GAAG,CAAC,CAAJ,CAAW,CAAP;CAA8B,cAAO;OAAzC;EAES,CAAD,EAAR,MAAQ;CAFR,EAGS,GAAT;CAHA,EAKA,CAAU,EAAV;AAC6B,CAN7B,CAMQ,CAAG,EAAX;CANA,EAOO,CAAP,UAAO;CACP,EAA2B,CAAR,EAAnB,EAA2B;CAA3B,EAAO,CAAP;OARA;GASA;CATA,CAWuB,GAAvB,EAAO,EAAiB;CAEtB;GAAO,CAAJ,CAAU,GAAb;CAAuB;SAAvB;EAGQ,CAAD,CAAP,EAAmB,EAAnB,GAAO;AAGoB,CAA3B,GAAG,IAAH;CAAkC;SANlC;AASY,CAAZ,EAAW,CAAR,IAAH;CACE,CAA2B,CAAX,MAAhB;EACyB,CAAX,IAAd;AAGe,CAAD,GAAR,EALR;CAME,CAA0B,CAAV,MAAhB;EACwB,CAAV,IAAd,IAA+B;SAhBjC;AAmBa,CAAb,GAAG,IAAH;CAAoB,EAAQ,CAAR;SAnBpB;AAsBY,CAAZ,EAAW,CAAR,IAAH;CACE,EAAQ,EAAR;GACY,MAAZ;CADA,EAEU,IAAV;CAFA,CAGiC,IAAX,CAAf,CAAP,CAAkC,CAAlC;CAC2B,CAAU,CAA3B,CAAS,CAAjB,EAAiB,YAAjB;CADF,UAAiC;SA1BnC;CA6BA,GAAG,CAAH;CACS,gBAAP;SAhCmB;CAAvB,MAAuB;CAZzB,YA8CE;CAzDJ,IAWE;CAZmB,EACrB;CAXF;A,CCAA,CAAQ,CACe,GADvB,EAAO,GAAP;EAEW,CAAT,GACA,EAFqB,CAEpB,CAFoB;CAGnB,EAAkB,CAAlB,EAAM,EAAN;EAEiC,CAAb,CAApB,EAAM,EAAc,CAAa,CAAjC;AACwB,CAAf,EAAW,GAAZ,EAAN;CADkB,IAAa;CAFjC,EAMoB,CAApB,MAAU;CAAU,CAAS,GAAT,CAAC;CANrB;GASoB,CAApB,EAAM,GAAc,CAApB;CACE;CACO,EAAgB,GAAjB,OAAN;CAXF,IASoB;CATpB,EAaoB,CAApB,EAAM,GAAc,CAApB;CACS,GAAP,CAAuB,CAAjB,CAAQ,MAAd;CAdF,IAaoB;CAIT,CAAyB,CAApC,CAAoC,KAAC,CAA3B,CAAV;CACS,EAAW,GAAZ,EAAN;CADF,IAAoC;CApBjB,EAErB;CAHF;A,CCAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A,CCjCA,CAAQ,CACS,GADjB,EAAO;EAEK,CAAV,IACA,EAFe,CAEf,EAFe;CAGb;GAAQ,CAAR,IAAQ;CAAR,EACkB,CAAlB,MAAU;CAAQ,CAAK,IAAH;CAAF,CAAW,IAAH;CAD1B;GAGiB,CAAjB;CAHA,EAIE,CAAF,KAAE;CACA;GAAS,GAAT,EAAS;CAAT,EACQ,EAAR,GAAQ;CADR,CAEsC,CAArB,EAAK,CAAtB,IAAiB,IAAjB;CACO,KAAD,OAAN;CAJF,IAAE;CAJF,EAUS,CAAT,KAAS;CACP;GAAoB,CAAL,EAAf,CAA0C,GAAhC,EAAU;CAApB,EACoB,CAAL,CAAmB,CAAlC,CAAyC,GAA/B,CAAU;CACpB,EAA0B,CAAvB,EAAH,CAA0B,CAAvB;CACD,GAAe,IAAf,EAAU,IAAV;OAHF;GAKe,GAAf;CALA,CAMY,CAAG,GAAf;CANA,EAOuB,CAAR,EAAf,GAPA,CAOU,EAAa;CAPvB,EAQuB,CAAR,EAAf,IAAU,CAAa,GARvB;GASA,CAAe,EAAf,CAAyB,GAAf;CATV,EAUA,CAAe,EAAf,CAAyB,GAAf;CAVV,CAY6B,EAA7B,MAAU;CAZV,GAaA,CAAK,CAAL,IAA4B,CAA5B;CACQ,CAAuD,CAA/D,CAAoC,GAA7B,EAAM,CAAkB,GAA/B;CAzBF,IAUS;CAVT,CA2BA,CAAmC,CAAnC,GAAO,EAA4B;CACtB,CAAO,CAAlB;CADF,IAAmC;CA3BnC,CA6BA,KAAO,YAAP;CA9BF,UAgCE;CAlCa,EAEf;CAHF;A","sourcesContent":["angular.module( 'app', [\n  'ui.router'\n  #'ngAnimate'\n  'history'\n  'opener'\n  'databind'\n  'firebase'\n  'angular-gestures'\n  'ui.bootstrap'\n  'debounce'\n  'collapser'\n  'hm-sref'\n  'ui.jq'\n  'views'\n  'swiper'\n  'download'\n  'filters'\n  'cache'\n  'email'\n  'video'\n  'audio'\n  'once'\n  'scroll'\n])\n.value('databind-config',{\n  url:'{!firebase!}'\n  storage: true\n  firebase: false\n})\n.config([\n    '$stateProvider','$urlRouterProvider','$locationProvider','$compileProvider','$httpProvider',\n   ($stateProvider , $urlRouterProvider  , $locationProvider , $compileProvider , $httpProvider) ->\n\n    if !/^file/.test(window.location) then $locationProvider.html5Mode(true);\n\n    $compileProvider.aHrefSanitizationWhitelist(/^\\s*(https?|ftp|mailto|tel|skype):/);\n      \n\n    $urlRouterProvider\n      .otherwise('/','app.browser')\n\n    wide = device.desktop() or device.tablet() \n    if window.location.href.indexOf(\"wide=false\") > -1 or localStorage.getItem(\"mobile\") is \"true\"\n      localStorage.setItem(\"mobile\",\"true\")\n      wide = false\n    wideTemplate = if wide then \".wide\" else \"\"\n    if wide\n      $('html').addClass('wide');\n\n\n    # SEND VERSION WITH EVERY AJAX CALL\n    version = if '{!target!}' is 'DEV' then 'dev' else '{!version!}'\n    fbVersion = if '{!target!}' is 'DEV' then 'dev' else '{!firebaseVersion!}'\n    $.ajaxSetup({headers:{'X-Version':version}});\n    $httpProvider.defaults.headers.common['X-Version'] = version;\n    $httpProvider.defaults.headers.common['X-FirebaseVersion'] = version;\n\n    $stateProvider\n      .state(\"app\", {\n        abstract: true\n        url: '{!baseUrl!}'\n        views: \n          'menu':\n            templateUrl: \"app/menu/menu#{wideTemplate}.jade\"\n            controller: 'MenuCtrl'\n          'content':\n            template: '<ui-view/>'\n          'footer':\n            templateUrl: 'app/footer/footer.jade'\n            controller: 'FooterCtrl'\n      })\n      .state(\"app.browser\", {\n        url:\"\"\n        data: title: 'Home'\n        resolve: \n          \"swiper\": ['$rootScope','size',($rootScope,size) ->\n            if not $rootScope.artists or $rootScope.artists?.$loaded\n              $.when(size)\n            else \n              $.when(size,$rootScope.artists.$promise)\n          ]\n        templateUrl: 'app/browser/browser.jade'\n        controller: 'BrowserCtrl'\n      })\n      .state(\"app.list\", {\n        url:\"artist\"\n        data: title: 'Artists'\n        controller: 'ArtistListCtrl'\n        templateUrl: \"app/list/list#{wideTemplate}.jade\"\n      })\n      .state(\"app.info\", {\n        url:\"info\"\n        data: title: 'Info'\n        controller: 'InfoCtrl'\n        templateUrl: \"app/info/info#{wideTemplate}.jade\"\n      })      \n      .state(\"app.info.about\",{\n        url:'/aboutus'\n      })      \n      .state(\"app.info.contact\",{\n        url:'/contact'\n      })      \n      .state(\"app.info.mail\",{\n        url:'/mail'\n      })\n      .state(\"app.artist\", {\n        url:\"artist/:url\"\n        data: title: 'Artist'\n        controller: 'ArtistCtrl'\n        templateUrl: \"app/artist/artist#{wideTemplate}.jade\"\n      })\n      .state(\"app.artist.bio\",{\n        url:'/biography'\n      })\n      .state(\"app.artist.music\",{\n        url:'/music'\n      })\n      .state(\"app.artist.videos\",{\n        url:'/videos'\n      })\n      .state(\"app.artist.book\",{\n        url:'/book'\n      })      \n      .state(\"app.artist.concerts\",{\n        url:'/concerts'\n      })\n      .state(\"app.artist.rider\",{\n        url:'/riders'\n      })\n])\n.run([\n  '$rootScope','$state','databind','history','cacheFilter','size'\n  ($rootScope , $state , databind , history , cacheFilter , size) ->\n    \n    # HISTORY SUPPORT\n    history.init()\n\n    window.$rootScope = $rootScope;\n    \n    # REQUEST ARTIST & INFO\n    updateData = ->\n      console.log('Updating data...')\n      $rootScope.artists = databind(\"artists\")\n      $rootScope.info = databind(\"info\")\n      $rootScope.$apply() if $rootScope.$$phase isnt '$digest'\n\n    updateData()\n    \n    $rootScope.title = 'Home'\n    $rootScope.$on '$stateChangeStart', (e,to,param,from) ->\n      console.log(to.data?.title)\n      $rootScope.title = to.data?.title if to.name.substr(0,10) isnt \"app.artist\"\n      updateData() if to.name is \"app.browser\"\n      fromName = from.name.replace /\\./, '-'\n      toName = to.name.replace /\\./, '-'\n      $('html').removeClass(fromName).addClass(toName);\n\n    $rootScope.wide = $('html').hasClass('wide')\n    \n    done = -> setTimeout( (-> $('html,body').removeClass('loading') ),1000)\n    if $rootScope.artists.$loaded then size.done(done) else $.when(size,$rootScope.artists.$promise).done(done)\n\n    # FOOTER & KEYBOARD FIX!!!\n    if device.ios()\n      $('body').on 'focus','input,textarea,select', -> \n        $('html').addClass('focus')\n      $('body').on 'blur','input,textarea,select', -> \n        $('html').removeClass('focus')\n        $(window).trigger('scroll')\n      # overflow scrolling\n      $('html,body').on('touchstart',->) \n\n    # HACK HACK FOR THE WIDE SCROLLBAR\n    if $rootScope.wide\n      $('body').on 'mouseenter touchstart','.sidebar',(ev)->\n        if ev.currentTarget.scrollHeight > $(ev.currentTarget).height() \n          $('body').css('overflow','hidden')\n\n      $('body').on 'mouseleave','.sidebar',->\n        $('body').css('overflow','inherit')\n\n      $('body').on 'touchstart','.content',->\n        $('body').css('overflow','inherit')\n\n    # HACK HACK FOR THE ANIMATION\n    $body = $('body')\n    $(window).on 'scroll', ->\n      max = 55;\n      if $body.scrollTop() > max\n        $('.toolbar').addClass('mini')\n      else\n        $('.toolbar').removeClass('mini')\n      \n])","angular.module('app')\n.controller('ArtistCtrl',[\n  '$scope','$state','$stateParams','$rootScope',\n  'databind','scrollTo','$timeout','downloader','size',\n  ($scope , $state , $stateParams , $rootScope,\n    databind , scrollTo, $timeout, downloader, size) ->\n    $rootScope.title = $rootScope.artists[$stateParams.url]?.name\n    $scope.artist = databind('artists/'+$stateParams.url)\n    $scope.url = $stateParams.url\n\n    photoDefer = $.Deferred()\n    $scope.getPhotos = () ->\n      arr = []\n      arr.push($scope.artist.cover)\n      angular.forEach $scope.artist.photos,(val,key) ->\n        if val.time isnt undefined\n          arr.push(val)\n      return arr\n\n    $scope.downloadPhotos = (i) ->\n      attachments = [] \n      attachments.push(photo.link+'?dl=1') for photo in $scope.getPhotos()\n      if device.desktop()\n        attachments = [attachments[i or $scope.swiper.activeLoopIndex]]\n      $scope.artist.$promise.done ->\n        downloader({\n            artistname: $scope.artist.name\n            type: 'photo'\n            attachments: attachments\n            title: 'Download photo\\'s'\n            message: 'Send photo\\'s to your e-mail:'\n            buttons: ['Cancel','Send']\n            #download: false\n            open: false\n          })\n\n\n\n    $scope.artist.$promise.done ->\n      $scope.newsPopup =  \n        {\n          artistname: $scope.artist.name\n          type: 'news'\n          url: $scope.artist?.newspdf?.link\n          attachments: [$scope.artist?.newspdf?.link]\n          link: device.desktop()\n          title: 'Download news'\n          message: 'Send news to your e-mail:'\n        }\n      if not $scope.artist.name\n        $state.go(\"app.browser\")\n\n\n    $scope.swiper = $scope.artist.$promise\n\n    $rootScope.swiperSlide = Object\n      .keys($rootScope.artists)\n      .sort()\n      .filter((x) -> x[0] isnt '$')\n      .indexOf($scope.url)\n\n\n    $scope.collapse = { }\n    do ->\n      \n    \n      url = encodeURIComponent(\"{!shareUrl!}artist/#{$scope.url}\")\n      text = $scope.info.share\n      encodedText = encodeURIComponent(text)\n      $doc = $(document)\n      left = 0.5 * (window.screen.width- 550)\n      top = 0.5 * (window.screen.height - 420) \n      params = \"status=no,width=550,height=420,top=#{top},left=#{left}\"\n\n      $scope.share = ->\n        navigator?.share?(\"#{text} {!shareUrl!}artist/#{$scope.url}\",\"Share artist\")\n\n      $scope.facebook = ->\n        facebook = \"http://www.facebook.com/sharer.php?u=#{url}&t=#{encodedText}\"\n        window.open(facebook,'_blank',params)\n        null\n\n      $scope.tweet = ->\n        twitter = \"http://twitter.com/intent/tweet?url=#{url}&text=#{encodedText}\"\n        window.open(twitter,'_blank',params)\n        null\n\n\n    $scope.goto = (section) ->\n      if not $scope.wide\n        $scope.collapse[section] = false;\n        $state.go(\"app.artist.#{section}\")\n        offset = -55\n      else if device.ios()\n        offset = -130\n      else\n        offset = -110\n      scrollTo('#'+section,350,offset)\n      true\n\n    $scope.toggle = (e,section) ->\n      $scope.collapse[section] = not $scope.collapse[section]\n      e.gesture.stopPropagation()\n      e.gesture.preventDefault()\n      e.stopPropagation()\n      e.preventDefault()\n\n    $.each \"bio,music,videos,book,concerts,rider\".split(','), (i,section) ->\n      stateName = \"app.artist.#{section}\"\n      $scope.collapse[section] = $state.$current.name isnt stateName\n      true\n\n])\n.directive('fixHeight',[\n  ->\n    link: (scope,elem,attr) ->\n      contentHeight = $(elem).find('.section-content').height() or 0\n      $(elem).css('height',Math.max($(elem).height(),contentHeight))\n\n      ### HACK HACK ###\n      hack = ->\n        $el = $(elem)\n        if($el.height() < $el.find('.section-content').height()) \n          $el.find('.section-content').css({top:0,transform:'none','margin-top':50});\n          $el.css('height',$el.find('.section-content').height() + 100)\n      setTimeout hack,0\n])\n.directive('autoScroll',[\n  ->\n    if device.ios then return ->\n    $body = $('body')\n    offset = 110;\n    elems = []\n    timer = 0\n\n    doScroll = ->\n      scroll = $body.scrollTop()\n      for elem in elems\n        #height = $(elem).height()\n        range = $(elem).height() * 0.20\n        start = $(elem).offset().top - offset - range\n        end = start + 2*range\n        if scroll > start and scroll < end\n          $.scrollTo(elem,200,{offset:-offset})\n          return\n\n    ev = 'scroll' #if device.desktop() then 'scroll' else 'touchmove'\n    timeout = if device.desktop() then 500 else 200\n    $(window).on ev,->\n      clearTimeout(timer)\n      timer = setTimeout(doScroll,timeout)\n\n    link:(scope,elem) ->\n      elems.push(elem)\n\n\n])","angular.module('app')\n.controller('ArtistBioCtrl',[\n  '$scope','cacheFilter',\n  ($scope , cacheFilter) ->\n    $scope.artist.$promise.done ->\n      #url = $scope.artist?.bio?.en?.link;\n      #if url then url = cacheFilter(url,$scope.url+'-bio-en')\n\n      $scope.bioEn = {\n        artistname: $scope.artist.name or \"\"\n        type: 'bio'\n        attachments: [$scope.artist?.bio?.en?.link,$scope.artist?.bio?.nl?.link]\n        title: 'Biography'\n        link: device.desktop()\n        url: $scope.artist?.bio?.en?.link\n        message: 'Send biography to your e-mail:'\n      }\n\n\n      #url = $scope.artist?.bio?.nl?.link;\n      #if url then url = cacheFilter(url,$scope.url+'-bio-nl')\n\n      $scope.bioNl = angular.extend({},$scope.bioEn,{\n        url: $scope.artist?.bio?.nl?.link\n      })\n\n\n])","angular.module('app')\n.controller('ArtistBookCtrl',[\n  '$scope',\n  ($scope) ->\n    $scope.getSubject = (artist,booking) ->\n      if not booking? then return \"\"\n      lines = booking.lines?.split?('\\n');\n      if lines\n        delete lines[2]\n        lines = lines.join(' / ')\n      else\n        lines = booking.lines\n      \"BOOK #{artist.name}: #{lines}\"\n\n    $scope.index = {$value:null}\n\n])\n.controller('ArtistSingleBookCtrl',[\n  '$scope',\n  ($scope)->\n    #$scope.formCollapsed = true\n])","angular.module('app')\n.controller('ArtistMusicCtrl',[\n  '$scope',\n  ($scope) ->\n    \n])","angular.module('app')\n.controller('ArtistRiderCtrl',[\n  '$scope'\n  ($scope) ->\n\n    $scope.artist.$promise.done ->\n      $scope.riderTech = {\n        artistname: $scope.artist.name or \"\"\n        type: 'rider'\n        attachments: [$scope.artist?.rider?.tech?.link,$scope.artist?.rider?.hosp?.link]\n        title: 'Riders'\n        openOnCancel: true\n        link: device.desktop()\n        url: $scope.artist?.rider?.tech?.link\n        message: 'Send riders to your e-mail:'\n      }\n\n      $scope.riderHosp = angular.extend({},$scope.riderTech,{\n          url: $scope.artist?.rider?.hosp?.link\n        })\n])","angular.module('app')\n.controller('ArtistVideoCtrl',[\n  '$scope',\n  ($scope) ->\n\n    $scope.swiper = $scope.artist.$promise\n\n])","angular.module('app')\n.controller('BrowserCtrl',[\n  '$scope','$rootScope','$window','databind','$timeout','size'\n  ($scope , $rootScope , $window , databind , $timeout,  size) ->\n\n    $scope.hasFooter = -> $rootScope.hasFooter\n\n    promise = $.when($rootScope.artists.$promise,size)\n    $scope.swiper = promise\n    promise.then ->\n      $scope.loadImages = true\n\n    ###\n    if $rootScope.wide\n      $(window).on 'scroll.browser',->\n        if $('body').scrollTop() > 150\n          $('.swiper-slide-active a.view').trigger('tap')\n\n      $scope.$on '$destroy', ->\n        console.log('remove scroll listener')\n        $(window).off('scroll.browser')\n    ###\n\n])","angular.module('download',['storage','databind'])\n.factory('download',[\n  ->\n    (url,execDelay = 100, removeDelay = 10000) ->\n      $iframe = $('<iframe style=\"display:none;\"></iframe>')\n      $iframe.attr('src',url)\n\n      exec = -> $('body').append($iframe)\n      remove = -> $iframe.remove()\n\n      setTimeout exec,execDelay\n      setTimeout remove,removeDelay\n\n])\n.factory('downloader',[\n  '$http','storage','databind','download','opener',\n  ($http , storage , databind , download , opener) ->\n\n    messages = databind('info/email',{firebase:false})\n    email = storage.get('email') or {from:\"\"}\n\n    save = (value) ->\n      email.from = value\n      storage.set('email',email)\n      email\n\n    defaults = {\n      open: 1               # open URL on this buttonIndex\n      link: false           # for directive, act as link\n      artistname: \"\"\n      type: \"\"\n      attachments: []\n      download: device.desktop()\n      title: \"\"\n      message: \"\"\n      buttons: ['Preview','Send e-mail']\n      buttons2: ['Cancel', 'Send e-mail']\n    }\n\n    return downloader = (options) ->\n      result = $.Deferred()\n\n      doPrompt = (buttons) ->\n        # e-mail popup (smartphone's)\n        if navigator?.notification?.prompt?\n          navigator.notification.prompt(\n            options.message\n            handlePrompt,\n            options.title\n            buttons\n            email.from\n          )\n\n        # browser fallback for popup\n        else\n          response = prompt(options.title,email.from)\n          button = if response then options.buttons.length else 0\n          handlePrompt({buttonIndex:button,input1:response})\n\n      handlePrompt = (response) ->\n        if response.buttonIndex isnt options.buttons.length \n          if options.callback? then options.callback(response)\n          if options.open is response.buttonIndex and options.url? \n            ref = opener(options.url)\n            ref.addEventListener 'exit', ->\n              options.open = false # don't keep opening on cancel..!\n              doPrompt(options.buttons2) # open with new buttons (i.e. cancel)\n          return\n\n        save(response.input1)\n        #messages.done ->\n        subject = messages[options.type]?.subject?.replace?(/ARTISTNAME/g,options.artistname)\n        message = messages[options.type]?.message?.replace?(/ARTISTNAME/g,options.artistname)\n\n        if not subject then subject = options.artistname + \": \" + options.type\n        if not message then message = \"See attachment.\"\n\n        $http.post('{!api!}email/email.php',{\n          to:       email.from\n          toName:   email.fromName or email.from\n          from:     messages.to\n          subject:  subject\n          message:  message\n          attachments:  options.attachments\n        })\n        .then (res) -> if not res.data.error then result.resolve() else result.reject()\n        .catch -> result.reject()\n\n      options = angular.extend({},defaults,options)\n\n      # iframe download (desktop browsers)\n      if options.download\n        download(attachment) for attachment in options.attachments\n        return result\n\n      # do prompt for the FIRST time!!\n      doPrompt(options.buttons)\n      return result\n])\n.directive('emailPopup',[\n  'downloader',\n  (downloader) ->\n    link: (scope,elem,attr) ->\n      scope.$watch attr.emailPopup, (options) ->\n        if options?.link is true and options?.url?\n          $(elem).attr({\n            'href': options.url\n            'target':'_blank'\n          })\n        \n      $(elem).hammer().on 'tap', ->\n        options = scope.$eval(attr.emailPopup)\n        if options? and not options?.link then downloader(options)\n\n])\n","angular.module('app')\n.controller('FooterCtrl',[\n  '$scope','playlist','$state','size','$rootScope'\n  ($scope , playlist , $state , size , $rootScope) ->\n    $rootScope.hasFooter = false\n    $scope.prev = -> \n      playlist.prev(true)\n    \n    $scope.next = -> \n      playlist.next(true)\n    \n    $scope.isPlaying = -> playlist.isPlaying()\n    $scope.play = -> playlist.play();\n    $scope.pause = -> playlist.pause();\n\n    $scope.info = \"\"\n\n    gotoState = {to:\"app.home\"}\n    gotoStateParams = {}\n\n    $scope.w = 90\n    $scope.$on 'size',(ev,s) ->\n      $scope.w = s.w\n      $scope.$apply is $scope.$$phase isnt '$digest'\n\n    $scope.goto = -> \n      $state.go(gotoState,gotoStateParams)\n\n    $scope.close = ->\n      playlist.stop()\n      $rootScope.hasFooter = false\n\n    $scope.$on 'media.status',(ev,media,status) ->\n      if status is 2 # play\n        gotoState = $state.current\n        gotoStateParams = $state.params\n        $rootScope.hasFooter = true\n        $scope.info = playlist.getCurrentMedia()?.meta?.lines\n\n])","angular.module('app')\n.controller('InfoCtrl',[\n  '$scope','$state','$stateParams','$rootScope','databind','scrollTo',\n  ($scope , $state , $stateParams , $rootScope , databind , scrollTo) ->\n    $scope.collapse = { }\n\n    $scope.goto = (section) ->\n      $scope.collapse[section] = false;\n      $state.go(\"app.info.#{section}\") \n      scrollTo('#'+section)\n      true\n\n    $scope.toggle = (e,section) ->\n      $scope.collapse[section] = not $scope.collapse[section]\n      e.gesture.stopPropagation()\n      e.gesture.preventDefault()\n      e.stopPropagation()\n      e.preventDefault()\n\n    $scope.index = {$value:'about'}\n\n\n    $.each \"about,contact,mail\".split(','), (i,section) ->\n      stateName = \"app.info.#{section}\"\n      $scope.collapse[section] = $state.$current.name isnt stateName\n      if not $scope.collapse[section] then $scope.goto(section)\n\n])","angular.module('app')\n.controller('ArtistListCtrl',[\n  '$scope'\n  ($scope) ->\n    $scope.clearFilter = ->\n      $scope.month = -1\n      $scope.day = -1\n      $scope.query = \"\"\n      $scope.filter.$value = false\n])\n.filter('filterArtist',[\n  -> \n\n    overlap = (a1,a2,b1,b2) ->\n      if a1 > a2 then [a1,a2] = [a2,a1]\n      if b1 > b2 then [b1,b2] = [b2,b1]\n      a1 <= b2 && a2 >= b1\n\n    daysInMonth = (month) ->\n      day = [31,28,31,30,31,30,31,31,30,31,30,31]\n      day[month]\n\n    (input, query = \"\", month = -1, day = -1) ->\n      if(!angular.isObject(input)) then return []\n\n      query = (\"\"+query).toLowerCase()\n      result = {}\n\n      now = new Date()\n      month = if month is '' then -1 else 1.0*month\n      year = now.getUTCFullYear()\n      year = year + 1 if month < now.getMonth()\n      day = 1.0*day\n\n      angular.forEach input, (artist,url) ->\n        # if an firebase property\n        if(url[0] is '$') then return\n        \n        # get lowercase name\n        name = (\"\" + artist.name).toLowerCase()\n\n        # if not found (-1), return\n        if name.indexOf(query) is -1 then return\n\n        # if both month and day\n        if month > -1 and day > -1\n          startDate = new Date(year, month,day)\n          endDate = new Date(year, month,day+1)\n\n        # if only a month\n        else if month > -1\n          startDate = new Date(year,month, 1)\n          endDate = new Date(year,month, daysInMonth(month))\n\n        # if no date, it's found\n        if month is -1 then found = true\n\n        # if date, search\n        if month > -1\n          found = false\n          startDate = startDate.getTime()\n          endDate = endDate.getTime()\n          angular.forEach artist.bookings, (booking) ->\n            found = found || overlap(startDate,endDate,booking.startdate,booking.enddate) \n\n        if found \n          result[url] = artist\n\n      result     \n\n])","angular.module('app')\n.controller('MenuCtrl',[\n  '$scope','$rootScope','debounce','$state','scrollTo',\n  ($scope , $rootScope , debounce , $state , scrollTo) ->\n    $scope.hideMenu = true;\n\n    $scope.toggleMenu = debounce 100,->\n      $scope.hideMenu = not $scope.hideMenu\n\n\n    $rootScope.filter = {$value: false }\n\n\n    $scope.showFilter = ->\n      $('body').scrollTop(0)\n      $scope.filter.$value = true\n\n    $scope.isListView = ->\n      $state.current.name is \"app.list\"\n\n    \n    $rootScope.$on '$stateChangeStart', (e,to,param,from) ->\n      $scope.hideMenu = true;\n    \n\n])","function initPushwoosh() {\n    var pushNotification = window.plugins.pushNotification;\n    pushNotification.onDeviceReady();\n     \n    pushNotification.registerDevice({\n            alert:true, badge:true, sound:true,\n            appid: \"FC27D-FD9F6\", pw_appid:\"FC27D-FD9F6\",\n            appname:\"Good Music App\", projectid: \"337146349308\"\n        },\n        function(status) {\n            console.log('registerDevice: ' + JSON.stringify(status));\n        },\n        function(status) {\n            console.log('failed to register : ' + JSON.stringify(status));\n        }\n    );\n    \n    pushNotification.setApplicationIconBadgeNumber(0);\n     \n    document.addEventListener('push-notification', function(event) {\n        var notification = event.notification;\n        console.log('received push',JSON.stringify(notification));\n        if(navigator.notification && navigator.notification.alert) {\n            var msg = notification.aps? notification.aps.alert: notification.title;\n            navigator.notification.alert(msg,function(){},'Push notification')\n        }\n        pushNotification.setApplicationIconBadgeNumber(0);\n    });\n    document.addEventListener('resume',function(){\n        pushNotification.setApplicationIconBadgeNumber(0);\n    },false);\n\n}\n$(document).on('deviceready',initPushwoosh);","angular.module('app')\n.factory('size', [\n  '$window','$rootScope'\n  ($window , $rootScope) ->\n    defer = $.Deferred()\n    $rootScope.size = { h: 0, w: 0 }\n\n    scrollbarWidth = 0\n    $ ->\n      parent = $('<div style=\"width:50px;height:50px;overflow:auto\"><div/></div>').appendTo('body');\n      child = parent.children();\n      scrollbarWidth = child.innerWidth() - child.height( 99 ).innerWidth();\n      parent.remove();\n\n    update = ->\n      $rootScope.size.h = windowHeight = angular.element($window).height()\n      $rootScope.size.w = windowWidth = angular.element($window).width()\n      if $(document).height() > $($window).height()\n        $rootScope.size.w += scrollbarWidth\n\n      headerHeight = 110\n      iosHeight = if device.ios() then 20 else 0\n      $rootScope.size.imgH = windowHeight - headerHeight - iosHeight\n      $rootScope.size.imgW = windowWidth + scrollbarWidth\n      $rootScope.size.ttH = if device.desktop() then 0 else $rootScope.size.imgH \n      $rootScope.size.ttW = if device.desktop() then 0 else $rootScope.size.imgW\n\n      $rootScope.$broadcast(\"size\",$rootScope.size)\n      defer.resolveWith($rootScope.size)\n      console.log(\"Window #{$rootScope.size.w}x#{$rootScope.size.h}\",$rootScope.size)\n\n    angular.element(window).on 'ready',->\n      setTimeout update,100\n    angular.element(window).on 'orientationchange',update\n\n    defer\n])"]}